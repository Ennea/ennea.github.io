(()=>{function pe(e){let i=e.length;for(;--i>=0;)e[i]=0}var wn=0,Si=1,mn=2,vn=3,yn=258,St=29,Ie=256,Ce=Ie+1+St,ue=30,Nt=19,Ni=2*Ce+1,te=15,nt=16,kn=7,xt=256,xi=16,Ti=17,Ai=18,gt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ke=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),zi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cn=512,G=new Array((Ce+2)*2);pe(G);var ye=new Array(ue*2);pe(ye);var Ee=new Array(Cn);pe(Ee);var Se=new Array(yn-vn+1);pe(Se);var Tt=new Array(St);pe(Tt);var Xe=new Array(ue);pe(Xe);function at(e,i,t,n,a){this.static_tree=e,this.extra_bits=i,this.extra_base=t,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}var Ii,Ri,Oi;function rt(e,i){this.dyn_tree=e,this.max_code=0,this.stat_desc=i}var Di=e=>e<256?Ee[e]:Ee[256+(e>>>7)],Ne=(e,i)=>{e.pending_buf[e.pending++]=i&255,e.pending_buf[e.pending++]=i>>>8&255},D=(e,i,t)=>{e.bi_valid>nt-t?(e.bi_buf|=i<<e.bi_valid&65535,Ne(e,e.bi_buf),e.bi_buf=i>>nt-e.bi_valid,e.bi_valid+=t-nt):(e.bi_buf|=i<<e.bi_valid&65535,e.bi_valid+=t)},P=(e,i,t)=>{D(e,t[i*2],t[i*2+1])},Ui=(e,i)=>{let t=0;do t|=e&1,e>>>=1,t<<=1;while(--i>0);return t>>>1},En=e=>{e.bi_valid===16?(Ne(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Sn=(e,i)=>{let t=i.dyn_tree,n=i.max_code,a=i.stat_desc.static_tree,r=i.stat_desc.has_stree,l=i.stat_desc.extra_bits,s=i.stat_desc.extra_base,d=i.stat_desc.max_length,o,f,p,u,h,_,x=0;for(u=0;u<=te;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,o=e.heap_max+1;o<Ni;o++)f=e.heap[o],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,x++),t[f*2+1]=u,!(f>n)&&(e.bl_count[u]++,h=0,f>=s&&(h=l[f-s]),_=t[f*2],e.opt_len+=_*(u+h),r&&(e.static_len+=_*(a[f*2+1]+h)));if(x!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,x-=2}while(x>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)p=e.heap[--o],!(p>n)&&(t[p*2+1]!==u&&(e.opt_len+=(u-t[p*2+1])*t[p*2],t[p*2+1]=u),f--)}},Bi=(e,i,t)=>{let n=new Array(te+1),a=0,r,l;for(r=1;r<=te;r++)a=a+t[r-1]<<1,n[r]=a;for(l=0;l<=i;l++){let s=e[l*2+1];s!==0&&(e[l*2]=Ui(n[s]++,s))}},Nn=()=>{let e,i,t,n,a,r=new Array(te+1);for(t=0,n=0;n<St-1;n++)for(Tt[n]=t,e=0;e<1<<gt[n];e++)Se[t++]=n;for(Se[t-1]=n,a=0,n=0;n<16;n++)for(Xe[n]=a,e=0;e<1<<Ke[n];e++)Ee[a++]=n;for(a>>=7;n<ue;n++)for(Xe[n]=a<<7,e=0;e<1<<Ke[n]-7;e++)Ee[256+a++]=n;for(i=0;i<=te;i++)r[i]=0;for(e=0;e<=143;)G[e*2+1]=8,e++,r[8]++;for(;e<=255;)G[e*2+1]=9,e++,r[9]++;for(;e<=279;)G[e*2+1]=7,e++,r[7]++;for(;e<=287;)G[e*2+1]=8,e++,r[8]++;for(Bi(G,Ce+1,r),e=0;e<ue;e++)ye[e*2+1]=5,ye[e*2]=Ui(e,5);Ii=new at(G,gt,Ie+1,Ce,te),Ri=new at(ye,Ke,0,ue,te),Oi=new at(new Array(0),$n,0,Nt,kn)},Vi=e=>{let i;for(i=0;i<Ce;i++)e.dyn_ltree[i*2]=0;for(i=0;i<ue;i++)e.dyn_dtree[i*2]=0;for(i=0;i<Nt;i++)e.bl_tree[i*2]=0;e.dyn_ltree[xt*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Zi=e=>{e.bi_valid>8?Ne(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ft=(e,i,t,n)=>{let a=i*2,r=t*2;return e[a]<e[r]||e[a]===e[r]&&n[i]<=n[t]},st=(e,i,t)=>{let n=e.heap[t],a=t<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ft(i,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ft(i,n,e.heap[a],e.depth));)e.heap[t]=e.heap[a],t=a,a<<=1;e.heap[t]=n},Pt=(e,i,t)=>{let n,a,r=0,l,s;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+r++]&255,n+=(e.pending_buf[e.sym_buf+r++]&255)<<8,a=e.pending_buf[e.sym_buf+r++],n===0?P(e,a,i):(l=Se[a],P(e,l+Ie+1,i),s=gt[l],s!==0&&(a-=Tt[l],D(e,a,s)),n--,l=Di(n),P(e,l,t),s=Ke[l],s!==0&&(n-=Xe[l],D(e,n,s)));while(r<e.sym_next);P(e,xt,i)},wt=(e,i)=>{let t=i.dyn_tree,n=i.stat_desc.static_tree,a=i.stat_desc.has_stree,r=i.stat_desc.elems,l,s,d=-1,o;for(e.heap_len=0,e.heap_max=Ni,l=0;l<r;l++)t[l*2]!==0?(e.heap[++e.heap_len]=d=l,e.depth[l]=0):t[l*2+1]=0;for(;e.heap_len<2;)o=e.heap[++e.heap_len]=d<2?++d:0,t[o*2]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=n[o*2+1]);for(i.max_code=d,l=e.heap_len>>1;l>=1;l--)st(e,t,l);o=r;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],st(e,t,1),s=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=s,t[o*2]=t[l*2]+t[s*2],e.depth[o]=(e.depth[l]>=e.depth[s]?e.depth[l]:e.depth[s])+1,t[l*2+1]=t[s*2+1]=o,e.heap[1]=o++,st(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Sn(e,i),Bi(t,d,e.bl_count)},Ht=(e,i,t)=>{let n,a=-1,r,l=i[1],s=0,d=7,o=4;for(l===0&&(d=138,o=3),i[(t+1)*2+1]=65535,n=0;n<=t;n++)r=l,l=i[(n+1)*2+1],!(++s<d&&r===l)&&(s<o?e.bl_tree[r*2]+=s:r!==0?(r!==a&&e.bl_tree[r*2]++,e.bl_tree[xi*2]++):s<=10?e.bl_tree[Ti*2]++:e.bl_tree[Ai*2]++,s=0,a=r,l===0?(d=138,o=3):r===l?(d=6,o=3):(d=7,o=4))},Kt=(e,i,t)=>{let n,a=-1,r,l=i[1],s=0,d=7,o=4;for(l===0&&(d=138,o=3),n=0;n<=t;n++)if(r=l,l=i[(n+1)*2+1],!(++s<d&&r===l)){if(s<o)do P(e,r,e.bl_tree);while(--s!==0);else r!==0?(r!==a&&(P(e,r,e.bl_tree),s--),P(e,xi,e.bl_tree),D(e,s-3,2)):s<=10?(P(e,Ti,e.bl_tree),D(e,s-3,3)):(P(e,Ai,e.bl_tree),D(e,s-11,7));s=0,a=r,l===0?(d=138,o=3):r===l?(d=6,o=3):(d=7,o=4)}},xn=e=>{let i;for(Ht(e,e.dyn_ltree,e.l_desc.max_code),Ht(e,e.dyn_dtree,e.d_desc.max_code),wt(e,e.bl_desc),i=Nt-1;i>=3&&e.bl_tree[zi[i]*2+1]===0;i--);return e.opt_len+=3*(i+1)+5+5+4,i},Tn=(e,i,t,n)=>{let a;for(D(e,i-257,5),D(e,t-1,5),D(e,n-4,4),a=0;a<n;a++)D(e,e.bl_tree[zi[a]*2+1],3);Kt(e,e.dyn_ltree,i-1),Kt(e,e.dyn_dtree,t-1)},An=e=>{let i=4093624447,t;for(t=0;t<=31;t++,i>>>=1)if(i&1&&e.dyn_ltree[t*2]!==0)return 0;if(e.dyn_ltree[18]!==0||e.dyn_ltree[20]!==0||e.dyn_ltree[26]!==0)return 1;for(t=32;t<Ie;t++)if(e.dyn_ltree[t*2]!==0)return 1;return 0},Xt=!1,zn=e=>{Xt||(Nn(),Xt=!0),e.l_desc=new rt(e.dyn_ltree,Ii),e.d_desc=new rt(e.dyn_dtree,Ri),e.bl_desc=new rt(e.bl_tree,Oi),e.bi_buf=0,e.bi_valid=0,Vi(e)},Li=(e,i,t,n)=>{D(e,(wn<<1)+(n?1:0),3),Zi(e),Ne(e,t),Ne(e,~t),t&&e.pending_buf.set(e.window.subarray(i,i+t),e.pending),e.pending+=t},In=e=>{D(e,Si<<1,3),P(e,xt,G),En(e)},Rn=(e,i,t,n)=>{let a,r,l=0;e.level>0?(e.strm.data_type===2&&(e.strm.data_type=An(e)),wt(e,e.l_desc),wt(e,e.d_desc),l=xn(e),a=e.opt_len+3+7>>>3,r=e.static_len+3+7>>>3,r<=a&&(a=r)):a=r=t+5,t+4<=a&&i!==-1?Li(e,i,t,n):e.strategy===4||r===a?(D(e,(Si<<1)+(n?1:0),3),Pt(e,G,ye)):(D(e,(mn<<1)+(n?1:0),3),Tn(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),Pt(e,e.dyn_ltree,e.dyn_dtree)),Vi(e),n&&Zi(e)},On=(e,i,t)=>(e.pending_buf[e.sym_buf+e.sym_next++]=i,e.pending_buf[e.sym_buf+e.sym_next++]=i>>8,e.pending_buf[e.sym_buf+e.sym_next++]=t,i===0?e.dyn_ltree[t*2]++:(e.matches++,i--,e.dyn_ltree[(Se[t]+Ie+1)*2]++,e.dyn_dtree[Di(i)*2]++),e.sym_next===e.sym_end),Dn=zn,Un=Li,Bn=Rn,Vn=On,Zn=In,Ln={_tr_init:Dn,_tr_stored_block:Un,_tr_flush_block:Bn,_tr_tally:Vn,_tr_align:Zn},Mn=(e,i,t,n)=>{let a=e&65535|0,r=e>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do a=a+i[n++]|0,r=r+a|0;while(--l);a%=65521,r%=65521}return a|r<<16|0},xe=Mn,Fn=()=>{let e,i=[];for(var t=0;t<256;t++){e=t;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;i[t]=e}return i},Pn=new Uint32Array(Fn()),Hn=(e,i,t,n)=>{let a=Pn,r=n+t;e^=-1;for(let l=n;l<r;l++)e=e>>>8^a[(e^i[l])&255];return e^-1},z=Hn,ae={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oe={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Kn,_tr_stored_block:mt,_tr_flush_block:Xn,_tr_tally:q,_tr_align:Gn}=Ln,{Z_NO_FLUSH:J,Z_PARTIAL_FLUSH:Yn,Z_FULL_FLUSH:Wn,Z_FINISH:V,Z_BLOCK:Gt,Z_OK:I,Z_STREAM_END:Yt,Z_STREAM_ERROR:H,Z_DATA_ERROR:jn,Z_BUF_ERROR:ot,Z_DEFAULT_COMPRESSION:qn,Z_FILTERED:Jn,Z_HUFFMAN_ONLY:Le,Z_RLE:Qn,Z_FIXED:ea,Z_DEFAULT_STRATEGY:ta,Z_UNKNOWN:ia,Z_DEFLATED:We}=oe,na=9,aa=15,ra=8,sa=29,oa=256,vt=oa+1+sa,la=30,fa=19,ha=2*vt+1,da=15,y=3,j=258,K=j+y+1,ua=32,ce=42,At=57,yt=69,kt=73,$t=91,Ct=103,ie=113,me=666,O=1,be=2,re=3,ge=4,ca=3,ne=(e,i)=>(e.msg=ae[i],i),Wt=e=>e*2-(e>4?9:0),W=e=>{let i=e.length;for(;--i>=0;)e[i]=0},_a=e=>{let i,t,n,a=e.w_size;i=e.hash_size,n=i;do t=e.head[--n],e.head[n]=t>=a?t-a:0;while(--i);i=a,n=i;do t=e.prev[--n],e.prev[n]=t>=a?t-a:0;while(--i)},pa=(e,i,t)=>(i<<e.hash_shift^t)&e.hash_mask,Q=pa,U=e=>{let i=e.state,t=i.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+t),e.next_out),e.next_out+=t,i.pending_out+=t,e.total_out+=t,e.avail_out-=t,i.pending-=t,i.pending===0&&(i.pending_out=0))},B=(e,i)=>{Xn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,i),e.block_start=e.strstart,U(e.strm)},E=(e,i)=>{e.pending_buf[e.pending++]=i},we=(e,i)=>{e.pending_buf[e.pending++]=i>>>8&255,e.pending_buf[e.pending++]=i&255},Et=(e,i,t,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,i.set(e.input.subarray(e.next_in,e.next_in+a),t),e.state.wrap===1?e.adler=xe(e.adler,i,a,t):e.state.wrap===2&&(e.adler=z(e.adler,i,a,t)),e.next_in+=a,e.total_in+=a,a)},Mi=(e,i)=>{let t=e.max_chain_length,n=e.strstart,a,r,l=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,o=e.window,f=e.w_mask,p=e.prev,u=e.strstart+j,h=o[n+l-1],_=o[n+l];e.prev_length>=e.good_match&&(t>>=2),s>e.lookahead&&(s=e.lookahead);do if(a=i,!(o[a+l]!==_||o[a+l-1]!==h||o[a]!==o[n]||o[++a]!==o[n+1])){n+=2,a++;do;while(o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&o[++n]===o[++a]&&n<u);if(r=j-(u-n),n=u-j,r>l){if(e.match_start=i,l=r,r>=s)break;h=o[n+l-1],_=o[n+l]}}while((i=p[i&f])>d&&--t!==0);return l<=e.lookahead?l:e.lookahead},_e=e=>{let i=e.w_size,t,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-K)&&(e.window.set(e.window.subarray(i,i+i-n),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),_a(e),n+=i),e.strm.avail_in===0)break;if(t=Et(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=y)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Q(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Q(e,e.ins_h,e.window[a+y-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<y)););}while(e.lookahead<K&&e.strm.avail_in!==0)},Fi=(e,i)=>{let t=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,r,l=0,s=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>r&&(n=r),n<t&&(n===0&&i!==V||i===J||n!==a+e.strm.avail_in)))break;l=i===V&&n===a+e.strm.avail_in?1:0,mt(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,U(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(Et(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?ge:i!==J&&i!==V&&e.strm.avail_in===0&&e.strstart===e.block_start?be:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(Et(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,t=r>e.w_size?e.w_size:r,a=e.strstart-e.block_start,(a>=t||(a||i===V)&&i!==J&&e.strm.avail_in===0&&a<=r)&&(n=a>r?r:a,l=i===V&&e.strm.avail_in===0&&n===a?1:0,mt(e,e.block_start,n,l),e.block_start+=n,U(e.strm)),l?re:O)},lt=(e,i)=>{let t,n;for(;;){if(e.lookahead<K){if(_e(e),e.lookahead<K&&i===J)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=y&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-K&&(e.match_length=Mi(e,t)),e.match_length>=y)if(n=q(e,e.strstart-e.match_start,e.match_length-y),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=y){e.match_length--;do e.strstart++,e.ins_h=Q(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Q(e,e.ins_h,e.window[e.strstart+1]);else n=q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(B(e,!1),e.strm.avail_out===0))return O}return e.insert=e.strstart<y-1?e.strstart:y-1,i===V?(B(e,!0),e.strm.avail_out===0?re:ge):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?O:be},he=(e,i)=>{let t,n,a;for(;;){if(e.lookahead<K){if(_e(e),e.lookahead<K&&i===J)return O;if(e.lookahead===0)break}if(t=0,e.lookahead>=y&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=y-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-K&&(e.match_length=Mi(e,t),e.match_length<=5&&(e.strategy===Jn||e.match_length===y&&e.strstart-e.match_start>4096)&&(e.match_length=y-1)),e.prev_length>=y&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-y,n=q(e,e.strstart-1-e.prev_match,e.prev_length-y),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Q(e,e.ins_h,e.window[e.strstart+y-1]),t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=y-1,e.strstart++,n&&(B(e,!1),e.strm.avail_out===0))return O}else if(e.match_available){if(n=q(e,0,e.window[e.strstart-1]),n&&B(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=q(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<y-1?e.strstart:y-1,i===V?(B(e,!0),e.strm.avail_out===0?re:ge):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?O:be},ba=(e,i)=>{let t,n,a,r,l=e.window;for(;;){if(e.lookahead<=j){if(_e(e),e.lookahead<=j&&i===J)return O;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=y&&e.strstart>0&&(a=e.strstart-1,n=l[a],n===l[++a]&&n===l[++a]&&n===l[++a])){r=e.strstart+j;do;while(n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&a<r);e.match_length=j-(r-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=y?(t=q(e,1,e.match_length-y),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(B(e,!1),e.strm.avail_out===0))return O}return e.insert=0,i===V?(B(e,!0),e.strm.avail_out===0?re:ge):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?O:be},ga=(e,i)=>{let t;for(;;){if(e.lookahead===0&&(_e(e),e.lookahead===0)){if(i===J)return O;break}if(e.match_length=0,t=q(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(B(e,!1),e.strm.avail_out===0))return O}return e.insert=0,i===V?(B(e,!0),e.strm.avail_out===0?re:ge):e.sym_next&&(B(e,!1),e.strm.avail_out===0)?O:be};function F(e,i,t,n,a){this.good_length=e,this.max_lazy=i,this.nice_length=t,this.max_chain=n,this.func=a}var ve=[new F(0,0,0,0,Fi),new F(4,4,8,4,lt),new F(4,5,16,8,lt),new F(4,6,32,32,lt),new F(4,4,16,16,he),new F(8,16,32,32,he),new F(8,16,128,128,he),new F(8,32,128,256,he),new F(32,128,258,1024,he),new F(32,258,258,4096,he)],wa=e=>{e.window_size=2*e.w_size,W(e.head),e.max_lazy_match=ve[e.level].max_lazy,e.good_match=ve[e.level].good_length,e.nice_match=ve[e.level].nice_length,e.max_chain_length=ve[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=y-1,e.match_available=0,e.ins_h=0};function ma(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=We,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ha*2),this.dyn_dtree=new Uint16Array((2*la+1)*2),this.bl_tree=new Uint16Array((2*fa+1)*2),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(da+1),this.heap=new Uint16Array(2*vt+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*vt+1),W(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Re=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.status!==ce&&i.status!==At&&i.status!==yt&&i.status!==kt&&i.status!==$t&&i.status!==Ct&&i.status!==ie&&i.status!==me?1:0},Pi=e=>{if(Re(e))return ne(e,H);e.total_in=e.total_out=0,e.data_type=ia;let i=e.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?At:i.wrap?ce:ie,e.adler=i.wrap===2?0:1,i.last_flush=-2,Kn(i),I},Hi=e=>{let i=Pi(e);return i===I&&wa(e.state),i},va=(e,i)=>Re(e)||e.state.wrap!==2?H:(e.state.gzhead=i,I),Ki=(e,i,t,n,a,r)=>{if(!e)return H;let l=1;if(i===qn&&(i=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),a<1||a>na||t!==We||n<8||n>15||i<0||i>9||r<0||r>ea||n===8&&l!==1)return ne(e,H);n===8&&(n=9);let s=new ma;return e.state=s,s.strm=e,s.status=ce,s.wrap=l,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+y-1)/y),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=i,s.strategy=r,s.method=t,Hi(e)},ya=(e,i)=>Ki(e,i,We,aa,ra,ta),ka=(e,i)=>{if(Re(e)||i>Gt||i<0)return e?ne(e,H):H;let t=e.state;if(!e.output||e.avail_in!==0&&!e.input||t.status===me&&i!==V)return ne(e,e.avail_out===0?ot:H);let n=t.last_flush;if(t.last_flush=i,t.pending!==0){if(U(e),e.avail_out===0)return t.last_flush=-1,I}else if(e.avail_in===0&&Wt(i)<=Wt(n)&&i!==V)return ne(e,ot);if(t.status===me&&e.avail_in!==0)return ne(e,ot);if(t.status===ce&&t.wrap===0&&(t.status=ie),t.status===ce){let a=We+(t.w_bits-8<<4)<<8,r=-1;if(t.strategy>=Le||t.level<2?r=0:t.level<6?r=1:t.level===6?r=2:r=3,a|=r<<6,t.strstart!==0&&(a|=ua),a+=31-a%31,we(t,a),t.strstart!==0&&(we(t,e.adler>>>16),we(t,e.adler&65535)),e.adler=1,t.status=ie,U(e),t.pending!==0)return t.last_flush=-1,I}if(t.status===At){if(e.adler=0,E(t,31),E(t,139),E(t,8),t.gzhead)E(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),E(t,t.gzhead.time&255),E(t,t.gzhead.time>>8&255),E(t,t.gzhead.time>>16&255),E(t,t.gzhead.time>>24&255),E(t,t.level===9?2:t.strategy>=Le||t.level<2?4:0),E(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(E(t,t.gzhead.extra.length&255),E(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(e.adler=z(e.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=yt;else if(E(t,0),E(t,0),E(t,0),E(t,0),E(t,0),E(t,t.level===9?2:t.strategy>=Le||t.level<2?4:0),E(t,ca),t.status=ie,U(e),t.pending!==0)return t.last_flush=-1,I}if(t.status===yt){if(t.gzhead.extra){let a=t.pending,r=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+r>t.pending_buf_size;){let s=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex+=s,U(e),t.pending!==0)return t.last_flush=-1,I;a=0,r-=s}let l=new Uint8Array(t.gzhead.extra);t.pending_buf.set(l.subarray(t.gzindex,t.gzindex+r),t.pending),t.pending+=r,t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=kt}if(t.status===kt){if(t.gzhead.name){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a)),U(e),t.pending!==0)return t.last_flush=-1,I;a=0}t.gzindex<t.gzhead.name.length?r=t.gzhead.name.charCodeAt(t.gzindex++)&255:r=0,E(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a)),t.gzindex=0}t.status=$t}if(t.status===$t){if(t.gzhead.comment){let a=t.pending,r;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a)),U(e),t.pending!==0)return t.last_flush=-1,I;a=0}t.gzindex<t.gzhead.comment.length?r=t.gzhead.comment.charCodeAt(t.gzindex++)&255:r=0,E(t,r)}while(r!==0);t.gzhead.hcrc&&t.pending>a&&(e.adler=z(e.adler,t.pending_buf,t.pending-a,a))}t.status=Ct}if(t.status===Ct){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(U(e),t.pending!==0))return t.last_flush=-1,I;E(t,e.adler&255),E(t,e.adler>>8&255),e.adler=0}if(t.status=ie,U(e),t.pending!==0)return t.last_flush=-1,I}if(e.avail_in!==0||t.lookahead!==0||i!==J&&t.status!==me){let a=t.level===0?Fi(t,i):t.strategy===Le?ga(t,i):t.strategy===Qn?ba(t,i):ve[t.level].func(t,i);if((a===re||a===ge)&&(t.status=me),a===O||a===re)return e.avail_out===0&&(t.last_flush=-1),I;if(a===be&&(i===Yn?Gn(t):i!==Gt&&(mt(t,0,0,!1),i===Wn&&(W(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),U(e),e.avail_out===0))return t.last_flush=-1,I}return i!==V?I:t.wrap<=0?Yt:(t.wrap===2?(E(t,e.adler&255),E(t,e.adler>>8&255),E(t,e.adler>>16&255),E(t,e.adler>>24&255),E(t,e.total_in&255),E(t,e.total_in>>8&255),E(t,e.total_in>>16&255),E(t,e.total_in>>24&255)):(we(t,e.adler>>>16),we(t,e.adler&65535)),U(e),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?I:Yt)},$a=e=>{if(Re(e))return H;let i=e.state.status;return e.state=null,i===ie?ne(e,jn):I},Ca=(e,i)=>{let t=i.length;if(Re(e))return H;let n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==ce||n.lookahead)return H;if(a===1&&(e.adler=xe(e.adler,i,t,0)),n.wrap=0,t>=n.w_size){a===0&&(W(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(i.subarray(t-n.w_size,t),0),i=d,t=n.w_size}let r=e.avail_in,l=e.next_in,s=e.input;for(e.avail_in=t,e.next_in=0,e.input=i,_e(n);n.lookahead>=y;){let d=n.strstart,o=n.lookahead-(y-1);do n.ins_h=Q(n,n.ins_h,n.window[d+y-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--o);n.strstart=d,n.lookahead=y-1,_e(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=y-1,n.match_available=0,e.next_in=l,e.input=s,e.avail_in=r,n.wrap=a,I},Ea=ya,Sa=Ki,Na=Hi,xa=Pi,Ta=va,Aa=ka,za=$a,Ia=Ca,Ra="pako deflate (from Nodeca project)",ke={deflateInit:Ea,deflateInit2:Sa,deflateReset:Na,deflateResetKeep:xa,deflateSetHeader:Ta,deflate:Aa,deflateEnd:za,deflateSetDictionary:Ia,deflateInfo:Ra},Oa=(e,i)=>Object.prototype.hasOwnProperty.call(e,i),Da=function(e){let i=Array.prototype.slice.call(arguments,1);for(;i.length;){let t=i.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(let n in t)Oa(t,n)&&(e[n]=t[n])}}return e},Ua=e=>{let i=0;for(let n=0,a=e.length;n<a;n++)i+=e[n].length;let t=new Uint8Array(i);for(let n=0,a=0,r=e.length;n<r;n++){let l=e[n];t.set(l,a),a+=l.length}return t},je={assign:Da,flattenChunks:Ua},Xi=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xi=!1}var Te=new Uint8Array(256);for(let e=0;e<256;e++)Te[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Te[254]=Te[254]=1;var Ba=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let i,t,n,a,r,l=e.length,s=0;for(a=0;a<l;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),s+=t<128?1:t<2048?2:t<65536?3:4;for(i=new Uint8Array(s),r=0,a=0;r<s;a++)t=e.charCodeAt(a),(t&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),a++)),t<128?i[r++]=t:t<2048?(i[r++]=192|t>>>6,i[r++]=128|t&63):t<65536?(i[r++]=224|t>>>12,i[r++]=128|t>>>6&63,i[r++]=128|t&63):(i[r++]=240|t>>>18,i[r++]=128|t>>>12&63,i[r++]=128|t>>>6&63,i[r++]=128|t&63);return i},Va=(e,i)=>{if(i<65534&&e.subarray&&Xi)return String.fromCharCode.apply(null,e.length===i?e:e.subarray(0,i));let t="";for(let n=0;n<i;n++)t+=String.fromCharCode(e[n]);return t},Za=(e,i)=>{let t=i||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,i));let n,a,r=new Array(t*2);for(a=0,n=0;n<t;){let l=e[n++];if(l<128){r[a++]=l;continue}let s=Te[l];if(s>4){r[a++]=65533,n+=s-1;continue}for(l&=s===2?31:s===3?15:7;s>1&&n<t;)l=l<<6|e[n++]&63,s--;if(s>1){r[a++]=65533;continue}l<65536?r[a++]=l:(l-=65536,r[a++]=55296|l>>10&1023,r[a++]=56320|l&1023)}return Va(r,a)},La=(e,i)=>{i=i||e.length,i>e.length&&(i=e.length);let t=i-1;for(;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?i:t+Te[e[t]]>i?t:i},Ae={string2buf:Ba,buf2string:Za,utf8border:La};function Ma(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Gi=Ma,Yi=Object.prototype.toString,{Z_NO_FLUSH:Fa,Z_SYNC_FLUSH:Pa,Z_FULL_FLUSH:Ha,Z_FINISH:Ka,Z_OK:Ge,Z_STREAM_END:Xa,Z_DEFAULT_COMPRESSION:Ga,Z_DEFAULT_STRATEGY:Ya,Z_DEFLATED:Wa}=oe;function Oe(e){this.options=je.assign({level:Ga,method:Wa,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ya},e||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gi,this.strm.avail_out=0;let t=ke.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(t!==Ge)throw new Error(ae[t]);if(i.header&&ke.deflateSetHeader(this.strm,i.header),i.dictionary){let n;if(typeof i.dictionary=="string"?n=Ae.string2buf(i.dictionary):Yi.call(i.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(i.dictionary):n=i.dictionary,t=ke.deflateSetDictionary(this.strm,n),t!==Ge)throw new Error(ae[t]);this._dict_set=!0}}Oe.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a,r;if(this.ended)return!1;for(i===~~i?r=i:r=i===!0?Ka:Fa,typeof e=="string"?t.input=Ae.string2buf(e):Yi.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),(r===Pa||r===Ha)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(a=ke.deflate(t,r),a===Xa)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),a=ke.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Ge;if(t.avail_out===0){this.onData(t.output);continue}if(r>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Oe.prototype.onData=function(e){this.chunks.push(e)};Oe.prototype.onEnd=function(e){e===Ge&&(this.result=je.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zt(e,i){let t=new Oe(i);if(t.push(e,!0),t.err)throw t.msg||ae[t.err];return t.result}function ja(e,i){return i=i||{},i.raw=!0,zt(e,i)}function qa(e,i){return i=i||{},i.gzip=!0,zt(e,i)}var Ja=Oe,Qa=zt,er=ja,tr=qa,ir=oe,nr={Deflate:Ja,deflate:Qa,deflateRaw:er,gzip:tr,constants:ir},Me=16209,ar=16191,rr=function(i,t){let n,a,r,l,s,d,o,f,p,u,h,_,x,k,w,S,m,c,C,A,b,N,$,g,v=i.state;n=i.next_in,$=i.input,a=n+(i.avail_in-5),r=i.next_out,g=i.output,l=r-(t-i.avail_out),s=r+(i.avail_out-257),d=v.dmax,o=v.wsize,f=v.whave,p=v.wnext,u=v.window,h=v.hold,_=v.bits,x=v.lencode,k=v.distcode,w=(1<<v.lenbits)-1,S=(1<<v.distbits)-1;e:do{_<15&&(h+=$[n++]<<_,_+=8,h+=$[n++]<<_,_+=8),m=x[h&w];t:for(;;){if(c=m>>>24,h>>>=c,_-=c,c=m>>>16&255,c===0)g[r++]=m&65535;else if(c&16){C=m&65535,c&=15,c&&(_<c&&(h+=$[n++]<<_,_+=8),C+=h&(1<<c)-1,h>>>=c,_-=c),_<15&&(h+=$[n++]<<_,_+=8,h+=$[n++]<<_,_+=8),m=k[h&S];i:for(;;){if(c=m>>>24,h>>>=c,_-=c,c=m>>>16&255,c&16){if(A=m&65535,c&=15,_<c&&(h+=$[n++]<<_,_+=8,_<c&&(h+=$[n++]<<_,_+=8)),A+=h&(1<<c)-1,A>d){i.msg="invalid distance too far back",v.mode=Me;break e}if(h>>>=c,_-=c,c=r-l,A>c){if(c=A-c,c>f&&v.sane){i.msg="invalid distance too far back",v.mode=Me;break e}if(b=0,N=u,p===0){if(b+=o-c,c<C){C-=c;do g[r++]=u[b++];while(--c);b=r-A,N=g}}else if(p<c){if(b+=o+p-c,c-=p,c<C){C-=c;do g[r++]=u[b++];while(--c);if(b=0,p<C){c=p,C-=c;do g[r++]=u[b++];while(--c);b=r-A,N=g}}}else if(b+=p-c,c<C){C-=c;do g[r++]=u[b++];while(--c);b=r-A,N=g}for(;C>2;)g[r++]=N[b++],g[r++]=N[b++],g[r++]=N[b++],C-=3;C&&(g[r++]=N[b++],C>1&&(g[r++]=N[b++]))}else{b=r-A;do g[r++]=g[b++],g[r++]=g[b++],g[r++]=g[b++],C-=3;while(C>2);C&&(g[r++]=g[b++],C>1&&(g[r++]=g[b++]))}}else if((c&64)===0){m=k[(m&65535)+(h&(1<<c)-1)];continue i}else{i.msg="invalid distance code",v.mode=Me;break e}break}}else if((c&64)===0){m=x[(m&65535)+(h&(1<<c)-1)];continue t}else if(c&32){v.mode=ar;break e}else{i.msg="invalid literal/length code",v.mode=Me;break e}break}}while(n<a&&r<s);C=_>>3,n-=C,_-=C<<3,h&=(1<<_)-1,i.next_in=n,i.next_out=r,i.avail_in=n<a?5+(a-n):5-(n-a),i.avail_out=r<s?257+(s-r):257-(r-s),v.hold=h,v.bits=_},de=15,jt=852,qt=592,Jt=0,ft=1,Qt=2,sr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),or=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),lr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),hr=(e,i,t,n,a,r,l,s)=>{let d=s.bits,o=0,f=0,p=0,u=0,h=0,_=0,x=0,k=0,w=0,S=0,m,c,C,A,b,N=null,$,g=new Uint16Array(de+1),v=new Uint16Array(de+1),ee=null,Mt,Ve,Ze;for(o=0;o<=de;o++)g[o]=0;for(f=0;f<n;f++)g[i[t+f]]++;for(h=d,u=de;u>=1&&g[u]===0;u--);if(h>u&&(h=u),u===0)return a[r++]=1<<24|64<<16|0,a[r++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<u&&g[p]===0;p++);for(h<p&&(h=p),k=1,o=1;o<=de;o++)if(k<<=1,k-=g[o],k<0)return-1;if(k>0&&(e===Jt||u!==1))return-1;for(v[1]=0,o=1;o<de;o++)v[o+1]=v[o]+g[o];for(f=0;f<n;f++)i[t+f]!==0&&(l[v[i[t+f]]++]=f);if(e===Jt?(N=ee=l,$=20):e===ft?(N=sr,ee=or,$=257):(N=lr,ee=fr,$=0),S=0,f=0,o=p,b=r,_=h,x=0,C=-1,w=1<<h,A=w-1,e===ft&&w>jt||e===Qt&&w>qt)return 1;for(;;){Mt=o-x,l[f]+1<$?(Ve=0,Ze=l[f]):l[f]>=$?(Ve=ee[l[f]-$],Ze=N[l[f]-$]):(Ve=96,Ze=0),m=1<<o-x,c=1<<_,p=c;do c-=m,a[b+(S>>x)+c]=Mt<<24|Ve<<16|Ze|0;while(c!==0);for(m=1<<o-1;S&m;)m>>=1;if(m!==0?(S&=m-1,S+=m):S=0,f++,--g[o]===0){if(o===u)break;o=i[t+l[f]]}if(o>h&&(S&A)!==C){for(x===0&&(x=h),b+=p,_=o-x,k=1<<_;_+x<u&&(k-=g[_+x],!(k<=0));)_++,k<<=1;if(w+=1<<_,e===ft&&w>jt||e===Qt&&w>qt)return 1;C=S&A,a[C]=h<<24|_<<16|b-r|0}}return S!==0&&(a[b+S]=o-x<<24|64<<16|0),s.bits=h,0},$e=hr,dr=0,Wi=1,ji=2,{Z_FINISH:ei,Z_BLOCK:ur,Z_TREES:Fe,Z_OK:se,Z_STREAM_END:cr,Z_NEED_DICT:_r,Z_STREAM_ERROR:Z,Z_DATA_ERROR:qi,Z_MEM_ERROR:Ji,Z_BUF_ERROR:pr,Z_DEFLATED:ti}=oe,qe=16180,ii=16181,ni=16182,ai=16183,ri=16184,si=16185,oi=16186,li=16187,fi=16188,hi=16189,Ye=16190,X=16191,ht=16192,di=16193,dt=16194,ui=16195,ci=16196,_i=16197,pi=16198,Pe=16199,He=16200,bi=16201,gi=16202,wi=16203,mi=16204,vi=16205,ut=16206,yi=16207,ki=16208,T=16209,Qi=16210,en=16211,br=852,gr=592,wr=15,mr=wr,$i=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function vr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var le=e=>{if(!e)return 1;let i=e.state;return!i||i.strm!==e||i.mode<qe||i.mode>en?1:0},tn=e=>{if(le(e))return Z;let i=e.state;return e.total_in=e.total_out=i.total=0,e.msg="",i.wrap&&(e.adler=i.wrap&1),i.mode=qe,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(br),i.distcode=i.distdyn=new Int32Array(gr),i.sane=1,i.back=-1,se},nn=e=>{if(le(e))return Z;let i=e.state;return i.wsize=0,i.whave=0,i.wnext=0,tn(e)},an=(e,i)=>{let t;if(le(e))return Z;let n=e.state;return i<0?(t=0,i=-i):(t=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?Z:(n.window!==null&&n.wbits!==i&&(n.window=null),n.wrap=t,n.wbits=i,nn(e))},rn=(e,i)=>{if(!e)return Z;let t=new vr;e.state=t,t.strm=e,t.window=null,t.mode=qe;let n=an(e,i);return n!==se&&(e.state=null),n},yr=e=>rn(e,mr),Ci=!0,ct,_t,kr=e=>{if(Ci){ct=new Int32Array(512),_t=new Int32Array(32);let i=0;for(;i<144;)e.lens[i++]=8;for(;i<256;)e.lens[i++]=9;for(;i<280;)e.lens[i++]=7;for(;i<288;)e.lens[i++]=8;for($e(Wi,e.lens,0,288,ct,0,e.work,{bits:9}),i=0;i<32;)e.lens[i++]=5;$e(ji,e.lens,0,32,_t,0,e.work,{bits:5}),Ci=!1}e.lencode=ct,e.lenbits=9,e.distcode=_t,e.distbits=5},sn=(e,i,t,n)=>{let a,r=e.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(i.subarray(t-r.wsize,t),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(i.subarray(t-n,t-n+a),r.wnext),n-=a,n?(r.window.set(i.subarray(t-n,t),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0},$r=(e,i)=>{let t,n,a,r,l,s,d,o,f,p,u,h,_,x,k=0,w,S,m,c,C,A,b,N,$=new Uint8Array(4),g,v,ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(le(e)||!e.output||!e.input&&e.avail_in!==0)return Z;t=e.state,t.mode===X&&(t.mode=ht),l=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,o=t.hold,f=t.bits,p=s,u=d,N=se;e:for(;;)switch(t.mode){case qe:if(t.wrap===0){t.mode=ht;break}for(;f<16;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(t.wrap&2&&o===35615){t.wbits===0&&(t.wbits=15),t.check=0,$[0]=o&255,$[1]=o>>>8&255,t.check=z(t.check,$,2,0),o=0,f=0,t.mode=ii;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((o&255)<<8)+(o>>8))%31){e.msg="incorrect header check",t.mode=T;break}if((o&15)!==ti){e.msg="unknown compression method",t.mode=T;break}if(o>>>=4,f-=4,b=(o&15)+8,t.wbits===0&&(t.wbits=b),b>15||b>t.wbits){e.msg="invalid window size",t.mode=T;break}t.dmax=1<<t.wbits,t.flags=0,e.adler=t.check=1,t.mode=o&512?hi:X,o=0,f=0;break;case ii:for(;f<16;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(t.flags=o,(t.flags&255)!==ti){e.msg="unknown compression method",t.mode=T;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=T;break}t.head&&(t.head.text=o>>8&1),t.flags&512&&t.wrap&4&&($[0]=o&255,$[1]=o>>>8&255,t.check=z(t.check,$,2,0)),o=0,f=0,t.mode=ni;case ni:for(;f<32;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.head&&(t.head.time=o),t.flags&512&&t.wrap&4&&($[0]=o&255,$[1]=o>>>8&255,$[2]=o>>>16&255,$[3]=o>>>24&255,t.check=z(t.check,$,4,0)),o=0,f=0,t.mode=ai;case ai:for(;f<16;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.head&&(t.head.xflags=o&255,t.head.os=o>>8),t.flags&512&&t.wrap&4&&($[0]=o&255,$[1]=o>>>8&255,t.check=z(t.check,$,2,0)),o=0,f=0,t.mode=ri;case ri:if(t.flags&1024){for(;f<16;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.length=o,t.head&&(t.head.extra_len=o),t.flags&512&&t.wrap&4&&($[0]=o&255,$[1]=o>>>8&255,t.check=z(t.check,$,2,0)),o=0,f=0}else t.head&&(t.head.extra=null);t.mode=si;case si:if(t.flags&1024&&(h=t.length,h>s&&(h=s),h&&(t.head&&(b=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(r,r+h),b)),t.flags&512&&t.wrap&4&&(t.check=z(t.check,n,h,r)),s-=h,r+=h,t.length-=h),t.length))break e;t.length=0,t.mode=oi;case oi:if(t.flags&2048){if(s===0)break e;h=0;do b=n[r+h++],t.head&&b&&t.length<65536&&(t.head.name+=String.fromCharCode(b));while(b&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,n,h,r)),s-=h,r+=h,b)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=li;case li:if(t.flags&4096){if(s===0)break e;h=0;do b=n[r+h++],t.head&&b&&t.length<65536&&(t.head.comment+=String.fromCharCode(b));while(b&&h<s);if(t.flags&512&&t.wrap&4&&(t.check=z(t.check,n,h,r)),s-=h,r+=h,b)break e}else t.head&&(t.head.comment=null);t.mode=fi;case fi:if(t.flags&512){for(;f<16;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.check&65535)){e.msg="header crc mismatch",t.mode=T;break}o=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=X;break;case hi:for(;f<32;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}e.adler=t.check=$i(o),o=0,f=0,t.mode=Ye;case Ye:if(t.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=s,t.hold=o,t.bits=f,_r;e.adler=t.check=1,t.mode=X;case X:if(i===ur||i===Fe)break e;case ht:if(t.last){o>>>=f&7,f-=f&7,t.mode=ut;break}for(;f<3;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}switch(t.last=o&1,o>>>=1,f-=1,o&3){case 0:t.mode=di;break;case 1:if(kr(t),t.mode=Pe,i===Fe){o>>>=2,f-=2;break e}break;case 2:t.mode=ci;break;case 3:e.msg="invalid block type",t.mode=T}o>>>=2,f-=2;break;case di:for(o>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if((o&65535)!==(o>>>16^65535)){e.msg="invalid stored block lengths",t.mode=T;break}if(t.length=o&65535,o=0,f=0,t.mode=dt,i===Fe)break e;case dt:t.mode=ui;case ui:if(h=t.length,h){if(h>s&&(h=s),h>d&&(h=d),h===0)break e;a.set(n.subarray(r,r+h),l),s-=h,r+=h,d-=h,l+=h,t.length-=h;break}t.mode=X;break;case ci:for(;f<14;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(t.nlen=(o&31)+257,o>>>=5,f-=5,t.ndist=(o&31)+1,o>>>=5,f-=5,t.ncode=(o&15)+4,o>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=T;break}t.have=0,t.mode=_i;case _i:for(;t.have<t.ncode;){for(;f<3;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.lens[ee[t.have++]]=o&7,o>>>=3,f-=3}for(;t.have<19;)t.lens[ee[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,g={bits:t.lenbits},N=$e(dr,t.lens,0,19,t.lencode,0,t.work,g),t.lenbits=g.bits,N){e.msg="invalid code lengths set",t.mode=T;break}t.have=0,t.mode=pi;case pi:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[o&(1<<t.lenbits)-1],w=k>>>24,S=k>>>16&255,m=k&65535,!(w<=f);){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(m<16)o>>>=w,f-=w,t.lens[t.have++]=m;else{if(m===16){for(v=w+2;f<v;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(o>>>=w,f-=w,t.have===0){e.msg="invalid bit length repeat",t.mode=T;break}b=t.lens[t.have-1],h=3+(o&3),o>>>=2,f-=2}else if(m===17){for(v=w+3;f<v;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}o>>>=w,f-=w,b=0,h=3+(o&7),o>>>=3,f-=3}else{for(v=w+7;f<v;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}o>>>=w,f-=w,b=0,h=11+(o&127),o>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=T;break}for(;h--;)t.lens[t.have++]=b}}if(t.mode===T)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=T;break}if(t.lenbits=9,g={bits:t.lenbits},N=$e(Wi,t.lens,0,t.nlen,t.lencode,0,t.work,g),t.lenbits=g.bits,N){e.msg="invalid literal/lengths set",t.mode=T;break}if(t.distbits=6,t.distcode=t.distdyn,g={bits:t.distbits},N=$e(ji,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,g),t.distbits=g.bits,N){e.msg="invalid distances set",t.mode=T;break}if(t.mode=Pe,i===Fe)break e;case Pe:t.mode=He;case He:if(s>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=s,t.hold=o,t.bits=f,rr(e,u),l=e.next_out,a=e.output,d=e.avail_out,r=e.next_in,n=e.input,s=e.avail_in,o=t.hold,f=t.bits,t.mode===X&&(t.back=-1);break}for(t.back=0;k=t.lencode[o&(1<<t.lenbits)-1],w=k>>>24,S=k>>>16&255,m=k&65535,!(w<=f);){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(S&&(S&240)===0){for(c=w,C=S,A=m;k=t.lencode[A+((o&(1<<c+C)-1)>>c)],w=k>>>24,S=k>>>16&255,m=k&65535,!(c+w<=f);){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}o>>>=c,f-=c,t.back+=c}if(o>>>=w,f-=w,t.back+=w,t.length=m,S===0){t.mode=vi;break}if(S&32){t.back=-1,t.mode=X;break}if(S&64){e.msg="invalid literal/length code",t.mode=T;break}t.extra=S&15,t.mode=bi;case bi:if(t.extra){for(v=t.extra;f<v;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.length+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=gi;case gi:for(;k=t.distcode[o&(1<<t.distbits)-1],w=k>>>24,S=k>>>16&255,m=k&65535,!(w<=f);){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if((S&240)===0){for(c=w,C=S,A=m;k=t.distcode[A+((o&(1<<c+C)-1)>>c)],w=k>>>24,S=k>>>16&255,m=k&65535,!(c+w<=f);){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}o>>>=c,f-=c,t.back+=c}if(o>>>=w,f-=w,t.back+=w,S&64){e.msg="invalid distance code",t.mode=T;break}t.offset=m,t.extra=S&15,t.mode=wi;case wi:if(t.extra){for(v=t.extra;f<v;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}t.offset+=o&(1<<t.extra)-1,o>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=T;break}t.mode=mi;case mi:if(d===0)break e;if(h=u-d,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=T;break}h>t.wnext?(h-=t.wnext,_=t.wsize-h):_=t.wnext-h,h>t.length&&(h=t.length),x=t.window}else x=a,_=l-t.offset,h=t.length;h>d&&(h=d),d-=h,t.length-=h;do a[l++]=x[_++];while(--h);t.length===0&&(t.mode=He);break;case vi:if(d===0)break e;a[l++]=t.length,d--,t.mode=He;break;case ut:if(t.wrap){for(;f<32;){if(s===0)break e;s--,o|=n[r++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?z(t.check,a,u,l-u):xe(t.check,a,u,l-u)),u=d,t.wrap&4&&(t.flags?o:$i(o))!==t.check){e.msg="incorrect data check",t.mode=T;break}o=0,f=0}t.mode=yi;case yi:if(t.wrap&&t.flags){for(;f<32;){if(s===0)break e;s--,o+=n[r++]<<f,f+=8}if(t.wrap&4&&o!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=T;break}o=0,f=0}t.mode=ki;case ki:N=cr;break e;case T:N=qi;break e;case Qi:return Ji;case en:default:return Z}return e.next_out=l,e.avail_out=d,e.next_in=r,e.avail_in=s,t.hold=o,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<T&&(t.mode<ut||i!==ei))&&sn(e,e.output,e.next_out,u-e.avail_out),p-=e.avail_in,u-=e.avail_out,e.total_in+=p,e.total_out+=u,t.total+=u,t.wrap&4&&u&&(e.adler=t.check=t.flags?z(t.check,a,u,e.next_out-u):xe(t.check,a,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===X?128:0)+(t.mode===Pe||t.mode===dt?256:0),(p===0&&u===0||i===ei)&&N===se&&(N=pr),N},Cr=e=>{if(le(e))return Z;let i=e.state;return i.window&&(i.window=null),e.state=null,se},Er=(e,i)=>{if(le(e))return Z;let t=e.state;return(t.wrap&2)===0?Z:(t.head=i,i.done=!1,se)},Sr=(e,i)=>{let t=i.length,n,a,r;return le(e)||(n=e.state,n.wrap!==0&&n.mode!==Ye)?Z:n.mode===Ye&&(a=1,a=xe(a,i,t,0),a!==n.check)?qi:(r=sn(e,i,t,t),r?(n.mode=Qi,Ji):(n.havedict=1,se))},Nr=nn,xr=an,Tr=tn,Ar=yr,zr=rn,Ir=$r,Rr=Cr,Or=Er,Dr=Sr,Ur="pako inflate (from Nodeca project)",Y={inflateReset:Nr,inflateReset2:xr,inflateResetKeep:Tr,inflateInit:Ar,inflateInit2:zr,inflate:Ir,inflateEnd:Rr,inflateGetHeader:Or,inflateSetDictionary:Dr,inflateInfo:Ur};function Br(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Vr=Br,on=Object.prototype.toString,{Z_NO_FLUSH:Zr,Z_FINISH:Lr,Z_OK:ze,Z_STREAM_END:pt,Z_NEED_DICT:bt,Z_STREAM_ERROR:Mr,Z_DATA_ERROR:Ei,Z_MEM_ERROR:Fr}=oe;function De(e){this.options=je.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});let i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(e&&e.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15)===0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gi,this.strm.avail_out=0;let t=Y.inflateInit2(this.strm,i.windowBits);if(t!==ze)throw new Error(ae[t]);if(this.header=new Vr,Y.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=Ae.string2buf(i.dictionary):on.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(t=Y.inflateSetDictionary(this.strm,i.dictionary),t!==ze)))throw new Error(ae[t])}De.prototype.push=function(e,i){let t=this.strm,n=this.options.chunkSize,a=this.options.dictionary,r,l,s;if(this.ended)return!1;for(i===~~i?l=i:l=i===!0?Lr:Zr,on.call(e)==="[object ArrayBuffer]"?t.input=new Uint8Array(e):t.input=e,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),r=Y.inflate(t,l),r===bt&&a&&(r=Y.inflateSetDictionary(t,a),r===ze?r=Y.inflate(t,l):r===Ei&&(r=bt));t.avail_in>0&&r===pt&&t.state.wrap>0&&e[t.next_in]!==0;)Y.inflateReset(t),r=Y.inflate(t,l);switch(r){case Mr:case Ei:case bt:case Fr:return this.onEnd(r),this.ended=!0,!1}if(s=t.avail_out,t.next_out&&(t.avail_out===0||r===pt))if(this.options.to==="string"){let d=Ae.utf8border(t.output,t.next_out),o=t.next_out-d,f=Ae.buf2string(t.output,d);t.next_out=o,t.avail_out=n-o,o&&t.output.set(t.output.subarray(d,d+o),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(r===ze&&s===0)){if(r===pt)return r=Y.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};De.prototype.onData=function(e){this.chunks.push(e)};De.prototype.onEnd=function(e){e===ze&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=je.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function It(e,i){let t=new De(i);if(t.push(e),t.err)throw t.msg||ae[t.err];return t.result}function Pr(e,i){return i=i||{},i.raw=!0,It(e,i)}var Hr=De,Kr=It,Xr=Pr,Gr=It,Yr=oe,Wr={Inflate:Hr,inflate:Kr,inflateRaw:Xr,ungzip:Gr,constants:Yr},{Deflate:jr,deflate:qr,deflateRaw:Jr,gzip:Qr}=nr,{Inflate:es,inflate:ts,inflateRaw:is,ungzip:ns}=Wr,as=jr,rs=qr,ss=Jr,os=Qr,ls=es,fs=ts,hs=is,ds=ns,us=oe,ln={Deflate:as,deflate:rs,deflateRaw:ss,gzip:os,Inflate:ls,inflate:fs,inflateRaw:hs,ungzip:ds,constants:us};var cs={"+":"N","-":"P",0:"x",1:"g",2:"0",3:"K",4:"8",5:"S",6:"J",7:"2",8:"s",9:"Z",A:"D",B:"F",C:"t",D:"T",E:"6",F:"E",G:"a",H:"V",I:"c",J:"p",K:"L",L:"M",M:"m",N:"e",O:"j",P:"9",Q:"X",R:"B",S:"4",T:"R",U:"Y",V:"7",W:"_",X:"n",Y:"O",Z:"b",a:"i",b:"-",c:"v",d:"H",e:"C",f:"A",g:"r",h:"W",i:"o",j:"d",k:"I",l:"q",m:"h",n:"U",o:"l",p:"k",q:"3",r:"f",s:"y",t:"5",u:"G",v:"w",w:"1",x:"u",y:"z",z:"Q"};function fn(e,i){let t="";for(let n of e)n in i?t+=i[n]:t+=n;return t}function Rt(e){return fn(e,cs)}function hn(e){return fn(e,{"-":"+",_:"/"})}function Ot(e){return e>="A"&&e<="Z"?e.charCodeAt(0)-65:e>="a"&&e<="z"?e.charCodeAt(0)-71:e>="0"&&e<="9"?e.charCodeAt(0)+4:e=="-"||e==">"?62:e=="_"||e=="?"?63:0}function dn(e){return e<26?String.fromCharCode(e+65):e<52?String.fromCharCode(e+71):e<62?String.fromCharCode(e-52+48):e==62?"-":"_"}var Dt="[stgy:a",Ut="]";function un(e,i){i?console.error(e):window.alert(e)}function Je(e,i=!1){if(!e.startsWith(Dt)||!e.endsWith(Ut)||e.length<Dt.length+Ut.length+1)return un("Invalid strategy board.",i),null;let t=e.substring(Dt.length,e.length-Ut.length),n=Ot(Rt(t[0])),a=new ArrayBuffer(t.length-1),r=new Uint8Array(a);for(let s=0;s<t.length-1;s++){let d=t[s+1],o=Rt(d),p=Ot(o)-n-s&63;r[s]=dn(p).charCodeAt(0)}let l=new TextDecoder("windows-1252").decode(a);try{let s=Uint8Array.fromBase64(hn(l)),d=ln.inflate(s.slice(6));if(!d)throw null;return d}catch{return un("Invalid strategy board.",i),null}}var cn=[47,48,49,50,51,52,122,123,53,54,55,56,57,118,119,120,121,27,29,38,43,32,35,39,46,28,30,36,40,45,101,31,37,44,33,34,41,102,42,18,20,23,19,21,26,22,24,25,9,10,11,13,14,15,16,17,106,107,108,109,110,111,112,126,127,128,129,130,60,62,64,113,114,65,66,67,68,69,115,116,117,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,131,132,133,134,100,87,88,89,90,94,103,135,136,137,138,139,140,12,4,8,124,125],_n={47:1/200,48:1/200,49:1/200,50:1/200,51:1/200,52:1/200,122:1/200,123:1/200,53:1/200,54:1/200,55:1/200,56:1/200,57:1/200,118:1/200,119:1/200,120:1/200,121:1/200,27:1/200,29:1/200,38:1/200,43:1/200,32:1/200,35:1/200,39:1/200,46:1/200,28:1/200,30:1/200,36:1/200,40:1/200,45:1/200,101:1/200,31:1/200,37:1/200,44:1/200,33:1/200,34:1/200,41:1/200,102:1/200,42:1/200,18:1/200,20:1/200,23:1/200,19:1/200,21:1/200,26:1/200,22:1/200,24:1/200,25:1/200,9:1/100,13:1/200,14:1/200,15:1/200,16:1/100,106:1/200,107:1/200,108:1/400,109:1/100,110:1/100,111:1/400,112:1/400,126:1/200,127:1/400,128:1/400,129:1/400,130:1/400,60:1/100,62:1/100,64:1/100,113:1/200,114:1/200,65:1/150,66:1/150,67:1/150,68:1/150,69:1/150,115:1/150,116:1/150,117:1/150,70:1/150,71:1/150,72:1/150,73:1/150,74:1/150,75:1/150,76:1/150,77:1/150,78:1/150,79:1/100,80:1/100,81:1/100,82:1/100,83:1/100,84:1/100,85:1/100,86:1/100,131:1/100,132:1/100,133:1/100,134:1/100,87:1/100,88:1/100,89:1/100,90:1/100,94:1/100,103:1/100,135:1/100,136:1/100,137:1/100,138:1/100,139:1/100,140:1/100,4:1/100,8:1/100,124:1/100,125:1/100};var Bt=class{constructor(i,t){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=i,this.useContextVariables=t}generateVariable(i){let t=[...this.scopes[this.scopes.length-1]];return i&&t.push(i),t.join(".")}generateOption(i){switch(typeof i){case"number":return i.toString();case"string":return this.generateVariable(i);case"function":return`${this.addImport(i)}.call(${this.generateVariable()}, vars)`}}generateError(i){this.pushCode(`throw new Error(${i});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(i){this.code+=i+`
`}pushPath(i){i&&this.scopes[this.scopes.length-1].push(i)}popPath(i){i&&this.scopes[this.scopes.length-1].pop()}pushScope(i){this.scopes.push([i])}popScope(){this.scopes.pop()}addImport(i){if(!this.importPath)return`(${i})`;let t=this.reverseImports.get(i);return t||(t=this.imports.push(i)-1,this.reverseImports.set(i,t)),`${this.importPath}[${t}]`}addReference(i){this.references.has(i)||this.references.set(i,{resolved:!1,requested:!1})}markResolved(i){let t=this.references.get(i);t&&(t.resolved=!0)}markRequested(i){i.forEach(t=>{let n=this.references.get(t);n&&(n.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([i,t])=>!t.resolved&&!t.requested).map(([i,t])=>i)}},L=new Map,fe="___parser_",M={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Qe={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},et={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},R=class e{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new e}sanitizeFieldName(i){if(i&&!/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(i))throw new Error(`Invalid field name: ${i}`);return i}sanitizeEncoding(i){if(!["utf8","utf-8","ascii","hex","base64","base64url","latin1","binary"].includes(i.toLowerCase()))throw new Error(`Invalid encoding: ${i}`);return i}primitiveGenerateN(i,t){let n=Qe[i],a=et[i];t.pushCode(`${t.generateVariable(this.varName)} = dataView.get${n}(offset, ${a});`),t.pushCode(`offset += ${M[i]};`)}primitiveN(i,t,n){return this.setNextParser(i,t,n)}useThisEndian(i){return i+this.endian.toLowerCase()}uint8(i,t={}){return this.primitiveN("uint8",i,t)}uint16(i,t={}){return this.primitiveN(this.useThisEndian("uint16"),i,t)}uint16le(i,t={}){return this.primitiveN("uint16le",i,t)}uint16be(i,t={}){return this.primitiveN("uint16be",i,t)}uint32(i,t={}){return this.primitiveN(this.useThisEndian("uint32"),i,t)}uint32le(i,t={}){return this.primitiveN("uint32le",i,t)}uint32be(i,t={}){return this.primitiveN("uint32be",i,t)}int8(i,t={}){return this.primitiveN("int8",i,t)}int16(i,t={}){return this.primitiveN(this.useThisEndian("int16"),i,t)}int16le(i,t={}){return this.primitiveN("int16le",i,t)}int16be(i,t={}){return this.primitiveN("int16be",i,t)}int32(i,t={}){return this.primitiveN(this.useThisEndian("int32"),i,t)}int32le(i,t={}){return this.primitiveN("int32le",i,t)}int32be(i,t={}){return this.primitiveN("int32be",i,t)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(i,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),i,t)}int64be(i,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",i,t)}int64le(i,t={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",i,t)}uint64(i,t={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),i,t)}uint64be(i,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",i,t)}uint64le(i,t={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",i,t)}floatle(i,t={}){return this.primitiveN("floatle",i,t)}floatbe(i,t={}){return this.primitiveN("floatbe",i,t)}doublele(i,t={}){return this.primitiveN("doublele",i,t)}doublebe(i,t={}){return this.primitiveN("doublebe",i,t)}bitN(i,t,n){return n.length=i,this.setNextParser("bit",t,n)}bit1(i,t={}){return this.bitN(1,i,t)}bit2(i,t={}){return this.bitN(2,i,t)}bit3(i,t={}){return this.bitN(3,i,t)}bit4(i,t={}){return this.bitN(4,i,t)}bit5(i,t={}){return this.bitN(5,i,t)}bit6(i,t={}){return this.bitN(6,i,t)}bit7(i,t={}){return this.bitN(7,i,t)}bit8(i,t={}){return this.bitN(8,i,t)}bit9(i,t={}){return this.bitN(9,i,t)}bit10(i,t={}){return this.bitN(10,i,t)}bit11(i,t={}){return this.bitN(11,i,t)}bit12(i,t={}){return this.bitN(12,i,t)}bit13(i,t={}){return this.bitN(13,i,t)}bit14(i,t={}){return this.bitN(14,i,t)}bit15(i,t={}){return this.bitN(15,i,t)}bit16(i,t={}){return this.bitN(16,i,t)}bit17(i,t={}){return this.bitN(17,i,t)}bit18(i,t={}){return this.bitN(18,i,t)}bit19(i,t={}){return this.bitN(19,i,t)}bit20(i,t={}){return this.bitN(20,i,t)}bit21(i,t={}){return this.bitN(21,i,t)}bit22(i,t={}){return this.bitN(22,i,t)}bit23(i,t={}){return this.bitN(23,i,t)}bit24(i,t={}){return this.bitN(24,i,t)}bit25(i,t={}){return this.bitN(25,i,t)}bit26(i,t={}){return this.bitN(26,i,t)}bit27(i,t={}){return this.bitN(27,i,t)}bit28(i,t={}){return this.bitN(28,i,t)}bit29(i,t={}){return this.bitN(29,i,t)}bit30(i,t={}){return this.bitN(30,i,t)}bit31(i,t={}){return this.bitN(31,i,t)}bit32(i,t={}){return this.bitN(32,i,t)}namely(i){return L.set(i,this),this.alias=i,this}skip(i,t={}){return this.seek(i,t)}seek(i,t={}){if(t.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:i})}string(i,t){if(!t.zeroTerminated&&!t.length&&!t.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((t.zeroTerminated||t.length)&&t.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(t.stripNull&&!(t.length||t.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return t.encoding=t.encoding||"utf8",this.sanitizeEncoding(t.encoding),this.setNextParser("string",i,t)}buffer(i,t){if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",i,t)}wrapped(i,t){if(typeof t!="object"&&typeof i=="object"&&(t=i,i=""),!t||!t.wrapper||!t.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!t.length&&!t.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",i,t)}array(i,t){if(!t.readUntil&&!t.length&&!t.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!t.type)throw new Error("type is required for array.");if(typeof t.type=="string"&&!L.has(t.type)&&!(t.type in M))throw new Error(`Array element type "${t.type}" is unknown.`);return this.setNextParser("array",i,t)}choice(i,t){if(typeof t!="object"&&typeof i=="object"&&(t=i,i=""),!t)throw new Error("tag and choices are are required for choice.");if(!t.tag)throw new Error("tag is requird for choice.");if(!t.choices)throw new Error("choices is required for choice.");for(let n in t.choices){let a=parseInt(n,10),r=t.choices[a];if(isNaN(a))throw new Error(`Choice key "${n}" is not a number.`);if(typeof r=="string"&&!L.has(r)&&!(r in M))throw new Error(`Choice type "${r}" is unknown.`)}return this.setNextParser("choice",i,t)}nest(i,t){if(typeof t!="object"&&typeof i=="object"&&(t=i,i=""),!t||!t.type)throw new Error("type is required for nest.");if(!(t.type instanceof e)&&!L.has(t.type))throw new Error("type must be a known parser name or a Parser object.");if(!(t.type instanceof e)&&!i)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",i,t)}pointer(i,t){if(t.offset==null)throw new Error("offset is required for pointer.");if(!t.type)throw new Error("type is required for pointer.");if(typeof t.type=="string"&&!(t.type in M)&&!L.has(t.type))throw new Error(`Pointer type "${t.type}" is unknown.`);return this.setNextParser("pointer",i,t)}saveOffset(i,t={}){return this.setNextParser("saveOffset",i,t)}endianness(i){switch(i.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(i){return this.endianness(i)}useContextVars(i=!0){return this.useContextVariables=i,this}create(i){if(!(i instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=i,this}getContext(i){let t=new Bt(i,this.useContextVariables);return t.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(t),t.pushCode(`return ${fe+this.alias}(0).result;`)):this.addRawCode(t),t}getCode(){return this.getContext("imports").code}addRawCode(i){i.pushCode("var offset = 0;"),i.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),i.pushCode("vars.$parent = null;"),i.pushCode("vars.$root = vars;"),this.generate(i),this.resolveReferences(i),i.pushCode("delete vars.$parent;"),i.pushCode("delete vars.$root;"),i.pushCode("return vars;")}addAliasedCode(i){return i.pushCode(`function ${fe+this.alias}(offset, context) {`),i.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),i.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),i.pushCode("vars = Object.assign(vars, ctx);"),this.generate(i),i.markResolved(this.alias),this.resolveReferences(i),i.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),i.pushCode("return { offset: offset, result: vars };"),i.pushCode("}"),i}resolveReferences(i){let t=i.getUnresolvedReferences();i.markRequested(t),t.forEach(n=>{var a;(a=L.get(n))===null||a===void 0||a.addAliasedCode(i)})}compile(){let i="imports",t=this.getContext(i);this.compiled=new Function(i,"TextDecoder",`return function (buffer, constructorFn) { ${t.code} };`)(t.imports,TextDecoder)}sizeOf(){let i=NaN;if(Object.keys(M).indexOf(this.type)>=0)i=M[this.type];else if(this.type==="string"&&typeof this.options.length=="number")i=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")i=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let t=NaN;typeof this.options.type=="string"?t=M[this.options.type]:this.options.type instanceof e&&(t=this.options.type.sizeOf()),i=this.options.length*t}else this.type==="seek"?i=this.options.length:this.type==="nest"?i=this.options.type.sizeOf():this.type||(i=0);return this.next&&(i+=this.next.sizeOf()),i}parse(i){return this.compiled||this.compile(),this.compiled(i,this.constructorFn)}setNextParser(i,t,n){let a=new e;return a.type=i,a.varName=this.sanitizeFieldName(t),a.options=n,a.endian=this.endian,this.head?this.head.next=a:this.next=a,this.head=a,this}generate(i){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,i);break;case"bit":this.generateBit(i);break;case"string":this.generateString(i);break;case"buffer":this.generateBuffer(i);break;case"seek":this.generateSeek(i);break;case"nest":this.generateNest(i);break;case"array":this.generateArray(i);break;case"choice":this.generateChoice(i);break;case"pointer":this.generatePointer(i);break;case"saveOffset":this.generateSaveOffset(i);break;case"wrapper":this.generateWrapper(i);break}this.type!=="bit"&&this.generateAssert(i)}let t=i.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(i,t,this.options.formatter),this.generateNext(i)}generateAssert(i){if(!this.options.assert)return;let t=i.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let n=i.addImport(this.options.assert);i.pushCode(`if (!${n}.call(vars, ${t})) {`)}break;case"number":i.pushCode(`if (${this.options.assert} !== ${t}) {`);break;case"string":i.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${t}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}i.generateError(`"Assertion error: ${t} is " + ${JSON.stringify(this.options.assert.toString())}`),i.pushCode("}")}generateNext(i){return this.next&&(i=this.next.generate(i)),i}nextNotBit(){return this.next?this.next.type==="nest"?this.next.options&&this.next.options.type instanceof e?this.next.options.type.next?this.next.options.type.next.type!=="bit":!1:!0:this.next.type!=="bit":!0}generateBit(i){let t=JSON.parse(JSON.stringify(this));if(t.options=this.options,t.generateAssert=this.generateAssert.bind(this),t.generateFormatter=this.generateFormatter.bind(this),t.varName=i.generateVariable(t.varName),i.bitFields.push(t),!this.next||this.nextNotBit()){let n=i.generateTmpVariable();i.pushCode(`var ${n} = 0;`);let a=(f=0)=>{let p=0;for(let u=f;u<i.bitFields.length;u++){let h=i.bitFields[u].options.length;if(p+h>32)break;p+=h}return p},r=f=>(f<=8?(i.pushCode(`${n} = dataView.getUint8(offset);`),f=8):f<=16?(i.pushCode(`${n} = dataView.getUint16(offset);`),f=16):f<=24?(i.pushCode(`${n} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),f=24):(i.pushCode(`${n} = dataView.getUint32(offset);`),f=32),i.pushCode(`offset += ${f/8};`),f),l=0,s=this.endian==="be",d=0,o=0;i.bitFields.forEach((f,p)=>{let u=f.options.length;if(u>o){if(o){let x=-1>>>32-o;i.pushCode(`${f.varName} = (${n} & 0x${x.toString(16)}) << ${u-o};`),u-=o}l=0,o=d=r(a(p)-o)}let h=s?d-l-u:l,_=-1>>>32-u;i.pushCode(`${f.varName} ${u<f.options.length?"|=":"="} ${n} >> ${h} & 0x${_.toString(16)};`),f.options.length===32&&i.pushCode(`${f.varName} >>>= 0`),f.options.assert&&f.generateAssert(i),f.options.formatter&&f.generateFormatter(i,f.varName,f.options.formatter),l+=u,o-=u}),i.bitFields=[]}}generateSeek(i){let t=i.generateOption(this.options.length);i.pushCode(`offset += ${t};`)}generateString(i){let t=i.generateVariable(this.varName),n=i.generateTmpVariable(),a=this.options.encoding,r=a.toLowerCase()==="hex",l='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let s=this.options.length;i.pushCode(`var ${n} = offset;`),i.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${n} < ${s});`);let d=`offset - ${n} < ${s} ? offset - 1 : offset`;i.pushCode(r?`${t} = Array.from(buffer.subarray(${n}, ${d}), ${l}).join('');`:`${t} = new TextDecoder('${a}').decode(buffer.subarray(${n}, ${d}));`)}else if(this.options.length){let s=i.generateOption(this.options.length);i.pushCode(r?`${t} = Array.from(buffer.subarray(offset, offset + ${s}), ${l}).join('');`:`${t} = new TextDecoder('${a}').decode(buffer.subarray(offset, offset + ${s}));`),i.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(i.pushCode(`var ${n} = offset;`),i.pushCode("while(dataView.getUint8(offset++) !== 0);"),i.pushCode(r?`${t} = Array.from(buffer.subarray(${n}, offset - 1), ${l}).join('');`:`${t} = new TextDecoder('${a}').decode(buffer.subarray(${n}, offset - 1));`)):this.options.greedy&&(i.pushCode(`var ${n} = offset;`),i.pushCode("while(buffer.length > offset++);"),i.pushCode(r?`${t} = Array.from(buffer.subarray(${n}, offset), ${l}).join('');`:`${t} = new TextDecoder('${a}').decode(buffer.subarray(${n}, offset));`));this.options.stripNull&&i.pushCode(`${t} = ${t}.replace(/\\x00+$/g, '')`)}generateBuffer(i){let t=i.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let n=this.options.readUntil,a=i.generateTmpVariable(),r=i.generateTmpVariable();i.pushCode(`var ${a} = offset;`),i.pushCode(`var ${r} = 0;`),i.pushCode("while (offset < buffer.length) {"),i.pushCode(`${r} = dataView.getUint8(offset);`);let l=i.addImport(n);i.pushCode(`if (${l}.call(${i.generateVariable()}, ${r}, buffer.subarray(offset))) break;`),i.pushCode("offset += 1;"),i.pushCode("}"),i.pushCode(`${t} = buffer.subarray(${a}, offset);`)}else if(this.options.readUntil==="eof")i.pushCode(`${t} = buffer.subarray(offset);`);else{let n=i.generateOption(this.options.length);i.pushCode(`${t} = buffer.subarray(offset, offset + ${n});`),i.pushCode(`offset += ${n};`)}this.options.clone&&i.pushCode(`${t} = buffer.constructor.from(${t});`)}generateArray(i){let t=i.generateOption(this.options.length),n=i.generateOption(this.options.lengthInBytes),a=this.options.type,r=i.generateTmpVariable(),l=i.generateVariable(this.varName),s=i.generateTmpVariable(),d=this.options.key,o=typeof d=="string";if(o?i.pushCode(`${l} = {};`):i.pushCode(`${l} = [];`),typeof this.options.readUntil=="function"?i.pushCode("do {"):this.options.readUntil==="eof"?i.pushCode(`for (var ${r} = 0; offset < buffer.length; ${r}++) {`):n!==void 0?i.pushCode(`for (var ${r} = offset + ${n}; offset < ${r}; ) {`):i.pushCode(`for (var ${r} = ${t}; ${r} > 0; ${r}--) {`),typeof a=="string")if(L.get(a)){let f=i.generateTmpVariable();if(i.pushCode(`var ${f} = ${fe+a}(offset, {`),i.useContextVariables){let p=i.generateVariable();i.pushCode(`$parent: ${p},`),i.pushCode(`$root: ${p}.$root,`),!this.options.readUntil&&n===void 0&&i.pushCode(`$index: ${t} - ${r},`)}i.pushCode("});"),i.pushCode(`var ${s} = ${f}.result; offset = ${f}.offset;`),a!==this.alias&&i.addReference(a)}else{let f=Qe[a],p=et[a];i.pushCode(`var ${s} = dataView.get${f}(offset, ${p});`),i.pushCode(`offset += ${M[a]};`)}else if(a instanceof e){i.pushCode(`var ${s} = {};`);let f=i.generateVariable();i.pushScope(s),i.useContextVariables&&(i.pushCode(`${s}.$parent = ${f};`),i.pushCode(`${s}.$root = ${f}.$root;`),!this.options.readUntil&&n===void 0&&i.pushCode(`${s}.$index = ${t} - ${r};`)),a.generate(i),i.useContextVariables&&(i.pushCode(`delete ${s}.$parent;`),i.pushCode(`delete ${s}.$root;`),i.pushCode(`delete ${s}.$index;`)),i.popScope()}if(o?i.pushCode(`${l}[${s}.${d}] = ${s};`):i.pushCode(`${l}.push(${s});`),i.pushCode("}"),typeof this.options.readUntil=="function"){let f=this.options.readUntil,p=i.addImport(f);i.pushCode(`while (!${p}.call(${i.generateVariable()}, ${s}, buffer.subarray(offset)));`)}}generateChoiceCase(i,t,n){if(typeof n=="string"){let a=i.generateVariable(this.varName);if(L.has(n)){let r=i.generateTmpVariable();i.pushCode(`var ${r} = ${fe+n}(offset, {`),i.useContextVariables&&(i.pushCode(`$parent: ${a}.$parent,`),i.pushCode(`$root: ${a}.$root,`)),i.pushCode("});"),i.pushCode(`${a} = ${r}.result; offset = ${r}.offset;`),n!==this.alias&&i.addReference(n)}else{let r=Qe[n],l=et[n];i.pushCode(`${a} = dataView.get${r}(offset, ${l});`),i.pushCode(`offset += ${M[n]}`)}}else n instanceof e&&(i.pushPath(t),n.generate(i),i.popPath(t))}generateChoice(i){let t=i.generateOption(this.options.tag),n=i.generateVariable(this.varName);if(this.varName&&(i.pushCode(`${n} = {};`),i.useContextVariables)){let a=i.generateVariable();i.pushCode(`${n}.$parent = ${a};`),i.pushCode(`${n}.$root = ${a}.$root;`)}i.pushCode(`switch(${t}) {`);for(let a in this.options.choices){let r=parseInt(a,10),l=this.options.choices[r];i.pushCode(`case ${r}:`),this.generateChoiceCase(i,this.varName,l),i.pushCode("break;")}i.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(i,this.varName,this.options.defaultChoice):i.generateError(`"Met undefined tag value " + ${t} + " at choice"`),i.pushCode("}"),this.varName&&i.useContextVariables&&(i.pushCode(`delete ${n}.$parent;`),i.pushCode(`delete ${n}.$root;`))}generateNest(i){let t=i.generateVariable(this.varName);if(this.options.type instanceof e){if(this.varName&&(i.pushCode(`${t} = {};`),i.useContextVariables)){let n=i.generateVariable();i.pushCode(`${t}.$parent = ${n};`),i.pushCode(`${t}.$root = ${n}.$root;`)}i.pushPath(this.varName),this.options.type.generate(i),i.popPath(this.varName),this.varName&&i.useContextVariables&&i.useContextVariables&&(i.pushCode(`delete ${t}.$parent;`),i.pushCode(`delete ${t}.$root;`))}else if(L.has(this.options.type)){let n=i.generateTmpVariable();if(i.pushCode(`var ${n} = ${fe+this.options.type}(offset, {`),i.useContextVariables){let a=i.generateVariable();i.pushCode(`$parent: ${a},`),i.pushCode(`$root: ${a}.$root,`)}i.pushCode("});"),i.pushCode(`${t} = ${n}.result; offset = ${n}.offset;`),this.options.type!==this.alias&&i.addReference(this.options.type)}}generateWrapper(i){let t=i.generateVariable(this.varName),n=i.generateTmpVariable();if(typeof this.options.readUntil=="function"){let d=this.options.readUntil,o=i.generateTmpVariable(),f=i.generateTmpVariable();i.pushCode(`var ${o} = offset;`),i.pushCode(`var ${f} = 0;`),i.pushCode("while (offset < buffer.length) {"),i.pushCode(`${f} = dataView.getUint8(offset);`);let p=i.addImport(d);i.pushCode(`if (${p}.call(${i.generateVariable()}, ${f}, buffer.subarray(offset))) break;`),i.pushCode("offset += 1;"),i.pushCode("}"),i.pushCode(`${n} = buffer.subarray(${o}, offset);`)}else if(this.options.readUntil==="eof")i.pushCode(`${n} = buffer.subarray(offset);`);else{let d=i.generateOption(this.options.length);i.pushCode(`${n} = buffer.subarray(offset, offset + ${d});`),i.pushCode(`offset += ${d};`)}this.options.clone&&i.pushCode(`${n} = buffer.constructor.from(${n});`);let a=i.generateTmpVariable(),r=i.generateTmpVariable(),l=i.generateTmpVariable(),s=i.addImport(this.options.wrapper);if(i.pushCode(`${n} = ${s}.call(this, ${n}).subarray(0);`),i.pushCode(`var ${a} = buffer;`),i.pushCode(`var ${r} = offset;`),i.pushCode(`var ${l} = dataView;`),i.pushCode(`buffer = ${n};`),i.pushCode("offset = 0;"),i.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof e)this.varName&&i.pushCode(`${t} = {};`),i.pushPath(this.varName),this.options.type.generate(i),i.popPath(this.varName);else if(L.has(this.options.type)){let d=i.generateTmpVariable();i.pushCode(`var ${d} = ${fe+this.options.type}(0);`),i.pushCode(`${t} = ${d}.result;`),this.options.type!==this.alias&&i.addReference(this.options.type)}i.pushCode(`buffer = ${a};`),i.pushCode(`dataView = ${l};`),i.pushCode(`offset = ${r};`)}generateFormatter(i,t,n){if(typeof n=="function"){let a=i.addImport(n);i.pushCode(`${t} = ${a}.call(${i.generateVariable()}, ${t});`)}}generatePointer(i){let t=this.options.type,n=i.generateOption(this.options.offset),a=i.generateTmpVariable(),r=i.generateVariable(this.varName);if(i.pushCode(`var ${a} = offset;`),i.pushCode(`offset = ${n};`),this.options.type instanceof e){if(i.pushCode(`${r} = {};`),i.useContextVariables){let l=i.generateVariable();i.pushCode(`${r}.$parent = ${l};`),i.pushCode(`${r}.$root = ${l}.$root;`)}i.pushPath(this.varName),this.options.type.generate(i),i.popPath(this.varName),i.useContextVariables&&(i.pushCode(`delete ${r}.$parent;`),i.pushCode(`delete ${r}.$root;`))}else if(L.has(this.options.type)){let l=i.generateTmpVariable();if(i.pushCode(`var ${l} = ${fe+this.options.type}(offset, {`),i.useContextVariables){let s=i.generateVariable();i.pushCode(`$parent: ${s},`),i.pushCode(`$root: ${s}.$root,`)}i.pushCode("});"),i.pushCode(`${r} = ${l}.result; offset = ${l}.offset;`),this.options.type!==this.alias&&i.addReference(this.options.type)}else if(Object.keys(M).indexOf(this.options.type)>=0){let l=Qe[t],s=et[t];i.pushCode(`${r} = dataView.get${l}(offset, ${s});`),i.pushCode(`offset += ${M[t]};`)}i.pushCode(`offset = ${a};`)}generateSaveOffset(i){let t=i.generateVariable(this.varName);i.pushCode(`${t} = offset`)}};var _s=new R,ps=new R().endianness("little").uint16("unk",{assert:3}).uint16("length").string("string",{length:"length",stripNull:!0}),bs=new R().endianness("little").uint16("magic",{assert:2}).uint16("id").choice({tag:"id",defaultChoice:_s,choices:{100:ps}}),gs=new R().endianness("little").array("objects",{type:bs,readUntil:"eof"}),ws=new R().endianness("little").bit8("unused1").bit1("visible").bit1("flip_horizontal").bit1("flip_vertical").bit1("locked").bit4("unused2"),ms=new R().endianness("little").uint16("section_id",{assert:4}).uint16("unk").uint16("length").array("values",{type:ws,length:"length"}),vs=new R().endianness("little").uint16("x").uint16("y"),ys=new R().endianness("little").uint16("section_id",{assert:5}).uint16("unk").uint16("length").array("values",{type:vs,length:"length"}),ks=new R().endianness("little").uint16("section_id",{assert:6}).uint16("unk").uint16("length").array("values",{type:"int16le",length:"length"}),$s=new R().endianness("little").uint16("section_id",{assert:7}).uint16("unk").uint16("length").array("values",{type:"uint8",length:function(){return Math.ceil(this.length/2)*2}}),Cs=new R().endianness("little").uint8("red").uint8("green").uint8("blue").uint8("transparency"),Es=new R().endianness("little").uint16("section_id",{assert:8}).uint16("unk").uint16("length").array("values",{type:Cs,length:"length"}),Vt=new R().endianness("little").uint16("section_id").uint16("unk").uint16("length").array("values",{type:"uint16le",length:"length"}),Ss=new R().endianness("little").uint32("header_magic",{assert:2}).uint16("length1").uint32("header_unk1").uint32("header_unk2").uint32("header_unk3").uint16("length2").uint32("header_unk4").uint16("section_id",{assert:1}).uint16("board_name_length").string("board_name",{length:"board_name_length",stripNull:!0}).wrapped({wrapper:e=>e,type:gs,readUntil:function(e){if(!this.___remainingBytes||this.___remainingBytes===0)if(this.___prepareStringRead)this.___remainingBytes=e+2,this.___prepareStringRead=!1,this.___readingString=!0;else if(e===2)this.___remainingBytes=4;else return!0;!this.___prepareStringRead&&!this.___readingString&&e===100&&this.___remainingBytes==2&&(this.___prepareStringRead=!0,this.___remainingBytes=4),this.___remainingBytes>0&&(this.___remainingBytes--,this.___readingString&&this.___remainingBytes===0&&(this.___readingString=!1))}}).nest("object_flags",{type:ms}).nest("coordinates",{type:ys}).nest("angles",{type:ks}).nest("scales",{type:$s}).nest("colors",{type:Es}).nest("params1",{type:Vt}).nest("params2",{type:Vt}).nest("params3",{type:Vt}).uint16("footer_magic",{assert:3}).uint16("footer_unk1").uint16("footer_unk2").uint16("background");function pn(e){let i=Ss.parse(e),t=[];for(let n=0;n<i.objects.length;n++){let a={visible:i.object_flags.values[n].visible===1,flipHorizontal:i.object_flags.values[n].flip_horizontal===1,flipVertical:i.object_flags.values[n].flip_vertical===1},r={x:Math.round(i.coordinates.values[n].x/5120*1024),y:Math.round(i.coordinates.values[n].y/3840*768)},l={red:i.colors.values[n].red,green:i.colors.values[n].green,blue:i.colors.values[n].blue,alpha:1-i.colors.values[n].transparency/100};t.push({id:i.objects[n].id,string:i.objects[n].string,flags:a,coordinates:r,angle:i.angles.values[n]/180*Math.PI,scale:i.scales.values[n],color:l,param1:i.params1.values[n],param2:i.params2.values[n],param3:i.params3.values[n]})}return{objects:t.reverse(),background:i.background}}function Ue(e){return new Promise((i,t)=>{let n=new Image;n.onload=()=>i(n),n.onerror=t,n.src=e})}function Be(){return document.getElementById("canvas").getContext("2d")}function bn(e,i=1,t=1){let n=document.createElement("canvas");n.width=e.width*i,n.height=e.height*t;let a=n.getContext("2d");for(let r=0;r<t;r++)for(let l=0;l<i;l++)a.drawImage(e,l*e.width,r*e.height);return n}function Ns(e,i,t,n){let a=i,r=i,l=-Math.PI/2,s=l+t,d=document.createElement("canvas");d.width=i*2,d.height=i*2;let o=d.getContext("2d");o.arc(a,r,i,l,s,!1),o.lineTo(a+e*Math.cos(s),r+e*Math.sin(s)),o.arc(a,r,e,s,l,!0),o.lineTo(a+i*Math.cos(l),r+i*Math.sin(l)),n?(console.log(n),o.clip(),o.drawImage(n,0,0,i*2,i*2)):(o.fillStyle="rgb(255 144 0 / 0.75)",o.closePath(),o.fill());let f=0,p=0,u=0;t<Math.PI*1.5&&t>=Math.PI?f=(1+Math.sin(t))*i:t<Math.PI&&(f=i),t<Math.PI&&(t>=Math.PI*.5?u=(1+Math.cos(t))*i:u=i+Math.cos(t)*e),t<Math.PI*.5&&(p=(1-Math.sin(t))*i);let h=document.createElement("canvas");return h.width=i*2-f-p,h.height=i*2-u,h.getContext("2d").drawImage(d,-f,0),h}function tt(e,i,t,n=0,a=1,r=1,l=!1,s=!1){let d=Be();d.save(),d.translate(i,t),d.rotate(n),d.scale(a*(l?-1:1),a*(s?-1:1)),d.globalAlpha=r,d.drawImage(e,-e.width/2,-e.height/2),d.restore()}function xs(e){let i=Math.round(e.param1/5120*1024),t=Math.round(e.param2/3840*768),n=Be();n.save(),n.lineCap="round",n.lineWidth=e.param3*2,n.strokeStyle=`rgb(${e.color.red} ${e.color.green} ${e.color.blue} / ${e.color.alpha})`,n.beginPath(),n.moveTo(e.coordinates.x,e.coordinates.y),n.lineTo(i,t),n.stroke(),n.restore()}function Ts(e){let i=e.param1*2,t=e.param2*2,n=Be();n.save(),n.fillStyle=`rgb(${e.color.red} ${e.color.green} ${e.color.blue} / ${e.color.alpha})`,n.translate(e.coordinates.x,e.coordinates.y),n.rotate(e.angle),n.fillRect(-i/2,-t/2,i,t),n.restore()}function gn(e,i=null){let t=e.param1/180*Math.PI,n=e.id===10?0:e.param2,a=e.id===10?256:250;tt(Ns(n,a,t,i),e.coordinates.x,e.coordinates.y,e.angle,e.scale/50,1,e.flags.flipHorizontal,e.flags.flipVertical)}function As(e){let i=e.string;if(!i){console.error("Text object has no string.");return}let t=Be();t.save(),t.font="30px sans-serif",t.textAlign="center",t.textBaseline="middle",t.lineWidth=1.5,t.shadowBlur=3,t.shadowColor="black",t.fillStyle=`rgb(${e.color.red} ${e.color.green} ${e.color.blue})`,t.strokeStyle="rgb(0 0 0)",t.strokeText(i,e.coordinates.x,e.coordinates.y),t.fillText(i,e.coordinates.x,e.coordinates.y),t.restore()}async function zs(e){if(!cn.includes(e.id)){console.error(`Unknown object ID ${e.id}.`);return}if(!e.flags.visible)return;let i=e.scale*(_n[e.id]??1),t;switch(e.id){case 11:Ts(e);break;case 12:xs(e);break;case 15:t=await Ue(`assets/objects/${e.id}.webp`),tt(bn(t,1,e.param2),e.coordinates.x,e.coordinates.y,e.angle,i,e.color.alpha,e.flags.flipHorizontal,e.flags.flipVertical);break;case 10:t=await Ue("assets/objects/9.webp"),gn(e,t);break;case 17:gn(e);break;case 100:As(e);break;case 110:t=await Ue(`assets/objects/${e.id}.webp`),tt(bn(t,e.param1,e.param2),e.coordinates.x,e.coordinates.y,e.angle,i,e.color.alpha,e.flags.flipHorizontal,e.flags.flipVertical);break;default:t=await Ue(`assets/objects/${e.id}.webp`),tt(t,e.coordinates.x,e.coordinates.y,e.angle,i,e.color.alpha);break}}async function it(e){let i=pn(e),t=Be(),n=await Ue(`assets/background/${i.background}.webp`);t.clearRect(0,0,1024,768),t.drawImage(n,0,0);for(let a of i.objects)await zs(a)}document.getElementById("form")?.addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("input").value.trim(),n=Je(t);n&&(window.location.hash=t,it(n))});var Is="[stgy:aLcnpxPulnsNdEvWZVSOgAvmgt4MN3i9kxbOQjW9HfobttiBlZ8KfzMlzhcEk98N2r7y-2D5Z3nZrh195ZnRNWORCB4XMwidyV2CX5k0S+ow+VNeEzhWhhfseFIH5ekbMGLBlcsD+2iKQBv1qbQyJ9TRRogiQHDlGXdycaI0qJwN7Ue3Ypz6bfC31Y4pBudPZ8Q7Rw8W1XL0Gfk6+Tavla1gPyvrs]",Zt=window.location.hash.substring(1),Lt=null;Zt!==""&&(console.log("Strategy board in hash:",Zt),Lt=Je(window.decodeURIComponent(Zt),!0));Lt?it(Lt):it(Je(Is));})();
/*! Bundled license information:

pako/dist/pako.esm.mjs:
  (*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) *)
*/
